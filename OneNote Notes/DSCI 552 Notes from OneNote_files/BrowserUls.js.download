function InitializeUls(){TheUlsHost=new Diag.ConsoleUlsHost;Diag.ULS.setUlsHost(TheUlsHost)}function FlushBrowserUls(){TheUlsHost&&TheUlsHost.dispose();InitializeUls()}var __extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},Diag,TheUlsHost;(function(n){var t=function(){function n(){}return n.prototype.isEnabled=function(){var n=!1;try{typeof Storage!="undefined"&&(n=localStorage.getItem("EnableConsoleLogging")==="true")}catch(t){}return n&&window.console&&window.console.log},n.prototype.error=function(n){window.console.error(n)},n.prototype.warning=function(n){window.console.warn(n)},n.prototype.info=function(n){window.console.info(n)},n.prototype.log=function(n){window.console.log(n)},n}(),i=function(i){function r(r,u){r===void 0&&(r=new t);i.call(this,SessionId,BrowserUlsUploadPath,new n.UlsUploadConfiguration(null,null,null,null,null,null,!0));this._console=r;this._suppressBubbling=u}return __extends(r,i),r.prototype.handleTrace=function(t){if(this._console.isEnabled()){var r="("+t.timestamp+"):\t"+t.message;switch(t.level){case n.ULSTraceLevel.error:this._console.error(r);break;case n.ULSTraceLevel.warning:this._console.warning(r);break;case n.ULSTraceLevel.info:this._console.info(r);break;default:this._console.log(r)}}if(!this._suppressBubbling){if(!EnableClientSideLogging){this._console.isEnabled()&&this._console.warning("Log uploading is disabled");return}i.prototype.handleTrace.call(this,t)}},r}(n.UploadingUlsHost);n.ConsoleUlsHost=i})(Diag||(Diag={}));window.addEventListener("load",function(){InitializeUls()});window.addEventListener("beforeunload",function(){FlushBrowserUls()});window.addEventListener("unload",function(){FlushBrowserUls()});window.addEventListener("pageshow",function(){FlushBrowserUls()});window.addEventListener("pagehide",function(){FlushBrowserUls()});